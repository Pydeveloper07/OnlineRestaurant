(this.webpackJsonpfantasy_restaurant=this.webpackJsonpfantasy_restaurant||[]).push([[0],{108:function(e,t,s){},109:function(e,t,s){},185:function(e,t,s){"use strict";s.r(t);var r=s(1),a=s.n(r),n=s(29),c=s.n(n),o=(s(108),s(109),s(110),s(111),s(9)),i=s(10),l=s(12),d=s(11),u=s(8),m=s(7),p=s(15),j=s(23),h=s(190),b=s(186),g=s(187),O=s(188),x=s(189),f=s(4),v=s(0),N=function(e){return/^[a-z0-9]{2,}$/.test(e)},y=function(e){return/^[A-Z]{1}[a-z]{1,}$/.test(e)},w=function(e){return/^(\+998){1}[0-9]{9}$/.test(e)},_=function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{6,})/.test(e)},S=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).handleSubmit=function(e){if(r.check_password(e.password,e.conf_password)){var t=new FormData;t.append("avatar",e.avatar[0],e.avatar[0].name),t.append("username",e.username),t.append("first_name",e.first_name),t.append("last_name",e.last_name),t.append("email",e.email),t.append("address",e.address),t.append("phone_number",e.phone_number),t.append("password",e.password),r.props.registerNewUser(t),r.props.resetForm(),r.props.toggle()}},r.check_password=function(e,t){return e!==t?(r.setState({password_err:"Passwords don't match"}),!1):(r.setState({password_err:""}),!0)},r.state={password_err:"",error_style:{fontSize:"0.6em"}},r.handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r.check_password=r.check_password.bind(Object(u.a)(r)),r}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return Object(v.jsxs)(h.a,{isOpen:this.props.isOpen,toggle:this.props.toggle,children:[Object(v.jsx)(b.a,{toggle:this.props.toggle,children:"Registration Form"}),Object(v.jsx)(g.a,{children:Object(v.jsx)(f.Form,{model:"signup",id:"signUpForm",onSubmit:function(t){return e.handleSubmit(t)},encType:"multipart/form-data",children:Object(v.jsxs)(O.a,{children:[Object(v.jsx)(x.a,{xs:12,sm:12,md:12,lg:12,children:Object(v.jsx)("h5",{className:"text-center text-primary",children:Object(v.jsx)("strong",{children:"Register"})})}),Object(v.jsxs)(x.a,{md:6,lg:6,className:"form-group",children:[Object(v.jsx)(f.Control.text,{className:"form-control",name:"username",model:".username",validators:{username_vld:N},placeholder:"Username",required:!0}),Object(v.jsx)(f.Errors,{className:"text-danger",model:".username",show:"touched",style:this.state.error_style,messages:{username_vld:"Only small letters and numbers are allowed and at least 2 characters"}})]}),Object(v.jsxs)(x.a,{md:6,lg:6,className:"form-group",children:[Object(v.jsx)(f.Control.text,{className:"form-control",name:"first_name",model:".first_name",validators:{name_vld:y},placeholder:"First Name"}),Object(v.jsx)(f.Errors,{className:"text-danger",model:".first_name",style:this.state.error_style,show:"touched",messages:{name_vld:"Only letters and should start with a capital letter and at least 2 characters"}})]}),Object(v.jsxs)(x.a,{md:6,lg:6,className:"form-group",children:[Object(v.jsx)(f.Control.text,{className:"form-control",name:"last_name",model:".last_name",placeholder:"Last Name"}),Object(v.jsx)(f.Errors,{className:"text-danger",model:".last_name",style:this.state.error_style,show:"touched",messages:{name_vld:"Only letters and should start with a capital letter and at least 2 characters"}})]}),Object(v.jsx)(x.a,{md:6,lg:6,className:"form-group",children:Object(v.jsx)(f.Control,{type:"email",className:"form-control",name:"email",model:".email",placeholder:"Email",required:!0})}),Object(v.jsx)(x.a,{md:6,lg:6,className:"form-group",children:Object(v.jsx)(f.Control.text,{className:"form-control",name:"address",model:".address",placeholder:"Address",required:!0})}),Object(v.jsxs)(x.a,{md:6,lg:6,className:"form-group",children:[Object(v.jsx)(f.Control.text,{className:"form-control",name:"phone_number",model:".phone_number",validators:{phone_number_vld:w},placeholder:"Phone Number"}),Object(v.jsx)(f.Errors,{className:"text-danger",model:".phone_number",show:"touched",style:this.state.error_style,messages:{phone_number_vld:"Should be in the format of +998xxxxxxxxx"}})]}),Object(v.jsxs)(x.a,{md:6,lg:6,className:"form-group",children:[Object(v.jsx)(f.Control,{type:"password",className:"form-control",name:"password",model:".password",validators:{password_vld:_},placeholder:"Password"}),Object(v.jsx)(f.Errors,{className:"text-danger",model:".password",show:"touched",style:this.state.error_style,messages:{password_vld:"Should consist of at least 1 capital letter, 1 small letter, 1 number, 1 special character, and must be at least length of 6"}})]}),Object(v.jsxs)(x.a,{md:6,lg:6,className:"form-group",children:[Object(v.jsx)(f.Control,{type:"password",className:"form-control",name:"conf_password",model:".conf_password",placeholder:"Confirm Password"}),this.state.password_err&&Object(v.jsx)("small",{className:"text-danger",style:this.state.error_style,children:this.state.password_err})]}),Object(v.jsx)(x.a,{xs:12,sm:12,md:12,lg:12,className:"form-group",children:Object(v.jsx)(f.Control.file,{accept:"image/*",className:"form-control",model:".avatar",name:"avatar"})}),Object(v.jsx)(x.a,{xs:12,sm:12,md:12,lg:12,className:"text-center",children:Object(v.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Register"})})]})})})]})}}]),s}(r.Component),C=S,I=s(39),T=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault(),r.props.auth(r.state.username,r.state.password)},r.handleChange=function(e){var t=e.target.name,s=e.target.value;r.setState(Object(I.a)({},t,s))},r.state={username:"",password:""},r.handleChange=r.handleChange.bind(Object(u.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return Object(v.jsxs)(h.a,{className:"login-modal",isOpen:this.props.isOpen,toggle:this.props.toggle,children:[Object(v.jsx)(b.a,{toggle:this.props.toggle,children:"Login Form"}),Object(v.jsx)(g.a,{children:Object(v.jsxs)("form",{onSubmit:function(t){return e.handleSubmit(t)},children:[Object(v.jsxs)("h5",{children:[Object(v.jsx)("strong",{children:"Log"})," into ",Object(v.jsx)("span",{className:"text-primary",children:"Account"})]}),this.props.user.errMsg&&Object(v.jsx)("h5",{className:"text-danger",children:this.props.user.errMsg}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"text",className:"form-control",name:"username",placeholder:"Username",value:this.state.username,onChange:this.handleChange,required:!0})}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsx)("input",{type:"password",className:"form-control",name:"password",placeholder:"Password",value:this.state.password,onChange:this.handleChange,required:!0})}),Object(v.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Login"})]})}),Object(v.jsx)("img",{src:"/static/assets/images/ice-tea.png",alt:"",className:"login-bg"})]})}}]),s}(r.Component),k=T,E=function(e){return""!==e.trim()},M=function(e){return""!==e.trim()},L=function(e){return""!==e.trim()},F=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).handleSubmit=function(e){var t=new FormData;t.append("subject",e.subject),t.append("email",e.email),t.append("message",e.message),r.props.postForm(t),r.props.resetForm(),r.props.toggle()},r.handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return Object(v.jsxs)(h.a,{isOpen:this.props.isOpen,toggle:this.props.toggle,className:"reg-modal",id:"contactUsWindow",children:[Object(v.jsx)(b.a,{toggle:this.props.toggle,children:"Contact Us Form"}),Object(v.jsx)(g.a,{children:Object(v.jsxs)(f.Form,{onSubmit:function(t){return e.handleSubmit(t)},model:"contact",id:"contactForm",children:[Object(v.jsx)("h5",{className:"text-center text-primary",children:Object(v.jsx)("strong",{children:"Contact Us"})}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)(f.Control.text,{model:".subject",className:"form-control",placeholder:"Subject",name:"subject",required:!0,validators:{subject:L}}),Object(v.jsx)(f.Errors,{model:".subject",className:"text-danger text-left",show:"touched",messages:{subject:"This field is required"}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)(f.Control,{type:"email",model:".email",className:"form-control",placeholder:"Email",name:"email",required:!0,validators:{email:E}}),Object(v.jsx)(f.Errors,{model:".email",className:"text-danger text-left",show:"touched",messages:{email:"This field is required"}})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)(f.Control.textarea,{model:".message",className:"form-control",name:"message",cols:"30",rows:"3",placeholder:"Enter your message here...",required:!0,validators:{message:M}}),Object(v.jsx)(f.Errors,{className:"text-danger text-left",model:".message",show:"touched",messages:{message:"This field is required"}})]}),Object(v.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Submit"})]})})]})}}]),s}(r.Component),R=F,D="http://localhost:8000",A=s(13),U=s.n(A),P=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).getTableDetails=function(e){return r.setState({currentTableCapacity:r.props.tables.tables.filter((function(t){return t.id===parseInt(e.target.value)}))[0].capacity}),U.a.get(D+"/api/pages/tables/".concat(parseInt(e.target.value),"/"),{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.data})).then((function(e){return r.setState({reservedTimes:e})})).catch((function(e){return console.log(e.message)}))},r.refreshState=function(){r.setState({startTime:null,endTime:null,tableErrMsg:null,reserveTimeMessage:"",capacityErrMsg:"",currentTableCapacity:null,reservedTimes:[]})},r.handleTimeChange=function(e){var t=e.target.name,s=e.target.value;r.setState(Object(I.a)({},t,s))},r.handleSubmit=function(e){var t=new FormData;t.append("tableId",e.tableId),t.append("num_of_people",e.numOfPeople),t.append("start_time",r.state.startTime),t.append("end_time",r.state.endTime),U.a.post(D+"/api/pages/order-table/",t,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.data})).then((function(e){e.is_valid?(alert("Table Reservation Success!"),r.props.resetForm(),r.refreshState(),r.props.toggle(),r.props.addOrderedTable(e.table)):(e.num_of_people_err?r.setState({capacityErrMsg:e.num_of_people_err}):r.setState({capacityErrMsg:""}),e.time_err?r.setState({reserveTimeMessage:e.time_err}):r.setState({reserveTimeMessage:""}))})).catch((function(e){return console.log(e.message)}))},r.state={startTime:null,endTime:null,tableErrMsg:null,reserveTimeMessage:"",capacityErrMsg:"",currentTableCapacity:null,reservedTimes:[]},r.handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r.getTableDetails=r.getTableDetails.bind(Object(u.a)(r)),r.refreshState=r.refreshState.bind(Object(u.a)(r)),r}return Object(i.a)(s,[{key:"render",value:function(){var e=this,t=[],s=this.state.reservedTimes.map((function(e){return Object(v.jsxs)("span",{children:[e.start_time.substr(0,5),"-",e.end_time.substr(0,5)]},e.id)}));return this.props.tables&&this.props.tables.tables&&!this.props.tables.errMsg?t=this.props.tables.tables.map((function(e){return Object(v.jsxs)("option",{value:e.id,children:["Table #",e.id]},e.id)})):t.push(null),Object(v.jsxs)(h.a,{isOpen:this.props.isOpen,toggle:this.props.toggle,className:"reg-modal",id:"orderTableWindow",children:[Object(v.jsx)(b.a,{toggle:this.props.toggle,children:"Table Reservation Form"}),Object(v.jsx)(g.a,{children:Object(v.jsxs)(f.Form,{model:"orderTable",onSubmit:function(t){return e.handleSubmit(t)},id:"tableOrderForm",children:[!this.props.isLoggedIn&&Object(v.jsx)("h5",{className:"alert alert-danger",children:"You are not logged in!"}),Object(v.jsx)("h5",{className:"text-center text-primary",children:Object(v.jsx)("strong",{children:"Get your table easily!"})}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsxs)(f.Control.select,{className:"form-control",model:".tableId",name:"tableId",id:"tables",disabled:!this.props.isLoggedIn,onChange:this.getTableDetails,children:[Object(v.jsx)("option",{disabled:!0,value:"",children:"Choose your table"}),t]}),Object(v.jsxs)("small",{id:"tableHelp",className:"form-text text-danger font-weight-bold",children:[s.length>0&&Object(v.jsx)("span",{className:"text-warning",children:"Reserved:\xa0"}),s]})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"numberOfPeople",children:"How many are you?"}),this.state.currentTableCapacity&&Object(v.jsx)("p",{className:"text-right m-0 text-success",children:Object(v.jsxs)("small",{children:[Object(v.jsx)("strong",{children:"Max. Capacity: "}),this.state.currentTableCapacity]})}),Object(v.jsx)(f.Control,{type:"number",className:"form-control",id:"numberOfPeople",min:"1",model:".numOfPeople",name:"num_of_people",required:!0,disabled:!this.props.isLoggedIn}),Object(v.jsx)("small",{children:Object(v.jsx)("span",{className:"text-danger",children:this.state.capacityErrMsg})})]}),Object(v.jsx)("div",{className:"form-group",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"reserveStartTime",children:"from"}),Object(v.jsx)("input",{type:"time",className:"form-control",model:".startTime",id:"reserveStartTime",name:"startTime",required:!0,disabled:!this.props.isLoggedIn,onChange:this.handleTimeChange})]}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("label",{htmlFor:"reserveEndTime",children:"to"}),Object(v.jsx)("input",{type:"time",className:"form-control",model:".endTime",id:"reserveEndTime",name:"endTime",required:!0,disabled:!this.props.isLoggedIn,onChange:this.handleTimeChange})]}),Object(v.jsx)("small",{className:"text-danger",id:"reserveTimeMessage",children:this.state.reserveTimeMessage})]})}),Object(v.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",disabled:!this.props.isLoggedIn,children:"Reserve"})]})})]})}}]),s}(r.Component),q=P,B=function(e){return Object(v.jsx)("div",{className:"cart-item",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-3 p-1",children:Object(v.jsx)("img",{src:D+e.item.image,alt:""})}),Object(v.jsx)("div",{className:"col-9",children:Object(v.jsxs)("ul",{className:"list-unstyled position-relative",children:[Object(v.jsx)("li",{className:"name",children:e.item.name}),Object(v.jsxs)("li",{className:"quantity",children:["Quantity: ",Object(v.jsx)("span",{className:"badge badge-primary",children:e.item.quantity})]}),Object(v.jsx)("li",{className:"badge badge-success price",children:e.item.price*(1-e.item.discount/100)})]})})]})})},W=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).toggleSignup=function(){return r.setState({isSignupModalOpen:!r.state.isSignupModalOpen})},r.toggleLogin=function(){return r.setState({isLoginModalOpen:!r.state.isLoginModalOpen})},r.toggleContact=function(){return r.setState({isContactModalOpen:!r.state.isContactModalOpen})},r.toggleOrderTable=function(){r.props.isLoggedIn&&r.props.fetchTables(),r.setState({isOrderTableModalOpen:!r.state.isOrderTableModalOpen})},r.state={isSignupModalOpen:!1,isLoginModalOpen:!1,isContactModalOpen:!1,isOrderTableModalOpen:!1},r.toggleSignup=r.toggleSignup.bind(Object(u.a)(r)),r.toggleLogin=r.toggleLogin.bind(Object(u.a)(r)),r.toggleContact=r.toggleContact.bind(Object(u.a)(r)),r.toggleOrderTable=r.toggleOrderTable.bind(Object(u.a)(r)),r}return Object(i.a)(s,[{key:"render",value:function(){var e=this,t=[];return this.props.cart.numberOfItems?t=this.props.cart.items.map((function(e){return Object(v.jsx)(B,{item:e})})):t.push(null),Object(v.jsx)("nav",{className:"navbar navbar-expand-lg custom-nav row wow fadeInDown",children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(j.b,{className:"navbar-brand col-md-2 col-lg-2",to:"/home",children:Object(v.jsx)("img",{src:"/static/assets/images/logo.png",alt:"logo"})}),Object(v.jsxs)("div",{className:"collapse navbar-collapse col-md-10 col-lg-10",id:"navbarText",children:[Object(v.jsxs)("ul",{className:"navbar-nav p-0 col-md-9 col-lg-9 flex-center",children:[Object(v.jsx)("li",{className:"nav-item active",children:Object(v.jsxs)(j.b,{className:"nav-link",to:"/menu",children:["Menu ",Object(v.jsx)("span",{className:"sr-only",children:"(current)"})]})}),Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(j.b,{className:"nav-link",to:"/drinks",children:"Drinks"})}),Object(v.jsxs)("li",{className:"nav-item",children:[Object(v.jsx)("a",{className:"nav-link",onClick:this.toggleOrderTable,children:"Table Ordering"}),Object(v.jsx)(q,{isOpen:this.state.isOrderTableModalOpen,toggle:this.toggleOrderTable,isLoggedIn:this.props.isLoggedIn,resetForm:this.props.resetOrderTableForm,tables:this.props.tables,addOrderedTable:this.props.addOrderedTable})]}),Object(v.jsxs)("li",{className:"nav-item",children:[Object(v.jsx)("a",{className:"nav-link",onClick:this.toggleContact,children:"Contact Us"}),Object(v.jsx)(R,{isOpen:this.state.isContactModalOpen,toggle:this.toggleContact,resetForm:this.props.resetContactForm,user:this.props.user,postForm:this.props.postContactForm})]}),this.props.isLoggedIn&&Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)(j.b,{className:"nav-link",to:"/dashboard",children:"Dashboard"})})]}),Object(v.jsxs)("ul",{className:"navbar-nav col-md-3 col-lg-3 p-0 flex-end",children:[!this.props.isLoggedIn&&Object(v.jsxs)(a.a.Fragment,{children:[Object(v.jsxs)("li",{className:"nav-item",children:[Object(v.jsx)("a",{className:"nav-link",id:"login",onClick:this.toggleLogin,children:"Log in"}),Object(v.jsx)(k,{auth:this.props.auth,user:this.props.user,isOpen:this.state.isLoginModalOpen,toggle:this.toggleLogin})]}),Object(v.jsxs)("li",{className:"nav-item",children:[Object(v.jsx)("a",{className:"nav-link",id:"sign-up",onClick:this.toggleSignup,children:"Sign Up"}),Object(v.jsx)(C,{isOpen:this.state.isSignupModalOpen,toggle:this.toggleSignup,resetForm:this.props.resetSignupForm,registerNewUser:this.props.registerNewUser})]})]}),this.props.isLoggedIn&&Object(v.jsx)("li",{className:"nav-item active",children:Object(v.jsxs)("div",{className:"dropdown",children:[Object(v.jsxs)("button",{type:"button",className:"btn btn-info dropdown-toggle","data-toggle":"dropdown",id:"cardButton",children:[Object(v.jsx)(m.a,{icon:p.f,"aria-hidden":"true"}),"Cart",Object(v.jsx)("span",{className:"badge badge-pill badge-danger",id:"cartNumberOfItems",children:this.props.cart.numberOfItems})]}),Object(v.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"cardButton",id:"cart",children:[Object(v.jsx)("div",{className:"dropdown-item cart-view-header sticky-top",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-6 text-left",children:Object(v.jsx)("span",{children:"Total Price:"})}),Object(v.jsx)("div",{className:"col-6 text-right",children:Object(v.jsx)("span",{className:"badge badge-danger",id:"totalPrice",children:this.props.cart.totalCost})})]})}),Object(v.jsx)("div",{className:"dropdown-content dropdown-item",children:Object(v.jsx)("div",{className:"items",children:Object(v.jsx)("div",{className:"cart-item",children:t})})}),Object(v.jsx)(j.b,{to:"/order",className:"btn btn-success order-btn",children:"Order"})]})]})}),this.props.isLoggedIn&&Object(v.jsx)("li",{className:"nav-item",children:Object(v.jsx)("a",{className:"nav-link",id:"logout",onClick:function(){return e.props.logout()},children:"Logout"})})]})]}),Object(v.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(v.jsx)("span",{className:"navbar-toggler-icon",children:Object(v.jsx)(m.a,{icon:p.a,style:{color:"#fff",fontSize:"28px"}})})})]})})}}]),s}(r.Component),z=W,J=s(16),H=s(30),V=s(46),G=s.n(V),Y=(s(183),s(184),function(e){return e.length}),$=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).handleClick=function(e){r.setState({rate:e})},r.handleSubmit=function(e){r.state.rate||r.setState({rateErr:"This field is required"});var t=new FormData;t.append("rate",r.state.rate),t.append("content",e.content),r.props.userReview.review?(r.props.updateReview(t),r.props.resetForm(),r.props.toggle()):(r.props.addReview(t),r.props.resetForm(),r.props.toggle())},r.state={rate:r.props.userReview.review?r.props.userReview.review.rate:0,content:r.props.userReview.review?r.props.userReview.review.content:"",rateErr:null},r.handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r.handleClick=r.handleClick.bind(Object(u.a)(r)),r}return Object(i.a)(s,[{key:"render",value:function(){var e=this,t=[1,2,3,4,5].map((function(t){return t<=e.state.rate?Object(v.jsx)(m.a,{icon:p.g,onClick:function(){return e.handleClick(t)},className:"checked"},t):Object(v.jsx)(m.a,{icon:p.g,onClick:function(){return e.handleClick(t)}},t)})),s=null;switch(this.state.rate){case 1:s=Object(v.jsx)("span",{id:"rate-emoji",className:"ec ec-confounded"});break;case 2:s=Object(v.jsx)("span",{id:"rate-emoji",className:"ec ec-expressionless"});break;case 3:s=Object(v.jsx)("span",{id:"rate-emoji",className:"ec ec-blush"});break;case 4:s=Object(v.jsx)("span",{id:"rate-emoji",className:"ec ec-yum"});break;case 5:s=Object(v.jsx)("span",{id:"rate-emoji",className:"ec ec-heart-eyes"});break;default:s=null}return Object(v.jsxs)(h.a,{isOpen:this.props.isOpen,toggle:this.props.toggle,className:"rating-modal",id:"rateWindow",children:[Object(v.jsx)(b.a,{toggle:this.props.toggle,children:"Rate Our Service"}),Object(v.jsx)(g.a,{children:Object(v.jsxs)(f.Form,{model:"review",onSubmit:function(t){return e.handleSubmit(t)},children:[Object(v.jsxs)("h5",{className:"text-center text-primary",children:[this.props.user&&this.props.user.first_name&&this.props.user.last_name&&Object(v.jsxs)("strong",{children:[this.props.user.first_name," ",this.props.user.last_name,"'s review"]}),this.props.user&&!this.props.user.first_name&&Object(v.jsxs)("strong",{children:[this.props.user.username,"'s review"]})]}),Object(v.jsxs)("div",{className:"rating-block mb-2",children:[Object(v.jsx)("span",{children:"Rating:"}),t,s,Object(v.jsx)("span",{id:"rateError",className:"text-danger font-weight-bold ml-2",style:{fontSize:"small"},children:this.state.rateErr})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)(f.Control.textarea,{className:"form-control",model:".content",name:"content",cols:"30",rows:"3",id:"reviewContent",placeholder:"Enter your review here...",validators:{content_vld:Y}}),Object(v.jsx)(f.Errors,{className:"text-danger",model:".content",show:"touched",messages:{content_vld:"This field is required"}})]}),Object(v.jsx)("button",{type:"submit",className:"btn btn-primary mb-2",children:"Submit"})]})})]})}}]),s}(r.Component),K=$,Z=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).handleBtnClick=function(e){if(r.props.isLoggedIn){var t=r.props.food,s={id:t.id,name:t.name,price:t.price,discount:t.discount,quantity:r.state.itemAmount,image:t.image};r.props.addToCart(s)}else alert("You need to login!")},r.state={itemAmount:1},r.handleInputChange=r.handleInputChange.bind(Object(u.a)(r)),r.calculateActualPrice=r.calculateActualPrice.bind(Object(u.a)(r)),r.handleBtnClick=r.handleBtnClick.bind(Object(u.a)(r)),r}return Object(i.a)(s,[{key:"handleInputChange",value:function(e){this.setState({itemAmount:e.target.value})}},{key:"calculateActualPrice",value:function(e,t){return e*(1-t/100)}},{key:"render",value:function(){var e=null,t=null;return this.props.food.discount?(e=Object(v.jsxs)("h3",{className:"discount",children:["-",this.props.food.discount,"%"]}),t=Object(v.jsxs)("div",{className:"col-md-6",children:[Object(v.jsx)("p",{className:"price mb-0",style:{textDecoration:"line-through"},children:this.props.food.price}),Object(v.jsx)("p",{className:"price actual_price",children:this.calculateActualPrice(this.props.food.price,this.props.food.discount)})]})):t=Object(v.jsx)("div",{className:"col-md-6",children:Object(v.jsx)("p",{className:"price mb-0",children:this.props.food.price})}),Object(v.jsxs)("div",{className:"card item",children:[Object(v.jsx)("div",{className:"image-container",children:Object(v.jsx)("img",{className:"card-img-top",src:D+this.props.food.image,alt:""})}),Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsxs)("div",{className:"res-container text-center",style:{fontSize:"1.5em",overflow:"hidden"},children:[Object(v.jsxs)("p",{className:"float-left",children:[Object(v.jsx)(m.a,{icon:p.i,className:"like",style:{color:"blue"}}),Object(v.jsx)("span",{children:Object(v.jsx)("small",{children:"75"})})]}),Object(v.jsxs)("p",{className:"float-right",children:[Object(v.jsx)("span",{children:Object(v.jsx)("small",{children:"10"})}),Object(v.jsx)(m.a,{icon:p.h,className:"dislike",style:{color:"blue"}})]})]}),e,Object(v.jsx)("h4",{className:"card-title text-left food-name",children:this.props.food.name}),Object(v.jsx)("p",{className:"content",children:this.props.food.description}),Object(v.jsxs)("div",{className:"row bottom-row",children:[t,Object(v.jsx)("p",{className:"col-md-6 text-right",children:Object(v.jsx)("input",{type:"number",name:"quantity",onChange:this.handleInputChange,value:this.state.itemAmount,min:"1",className:"quantity"})})]}),Object(v.jsx)("button",{className:"btn order-btn",onClick:this.handleBtnClick,children:"add to cart"})]})]})}}]),s}(r.Component),Q=Z,X=function(){return Object(v.jsxs)("section",{className:"hero position-relative",children:[Object(v.jsxs)("h3",{className:"hero-title",children:["Would you like to eat ",Object(v.jsx)("strong",{children:"a delicious food"})," in the world?"]}),Object(v.jsx)("div",{className:"hero-footer-image",children:Object(v.jsx)("img",{src:"/static/assets/images/ink_white.png",alt:""})})]})},ee=function(){return Object(v.jsxs)("section",{className:"our-work row wow fadeInUp","data-wow-duration":"1s","data-wow-delay":"300ms",children:[Object(v.jsxs)("div",{className:"col-md-6 col-lg-6 col-sm-12 our-work-content",children:[Object(v.jsx)("h3",{className:"title",children:"About Us"}),Object(v.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam id felis et ipsum bibendum ultrices. Morbi vitae pulvinar velit. Sed aliquam dictum sapien, id sagittis augue malesuada eu."})]}),Object(v.jsx)("div",{className:"col-md-6 col-lg-6 col-sm-12 our-work-image",children:Object(v.jsx)("img",{src:"/static/assets/images/food.png",alt:""})})]})},te=function(){return Object(v.jsxs)("section",{className:"features",children:[Object(v.jsxs)("h3",{className:"title text-center wow slideInRight",children:["Why people ",Object(v.jsx)("strong",{children:"choose us"}),"?"]}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsxs)("div",{className:"col-md-4 col-lg-4 col-sm-12 feature wow rotateIn","data-wow-delay":"0.5s","data-wow-duration":"1s",children:[Object(v.jsx)("img",{src:"/static/assets/images/Group1.png",alt:""}),Object(v.jsxs)("h4",{className:"feature-content text-center",children:[Object(v.jsx)("strong",{children:"Delicious"})," foods from ",Object(v.jsx)("br",{}),"the popular ",Object(v.jsx)("strong",{children:"chef"})," cookers"]})]}),Object(v.jsxs)("div",{className:"col-md-4 col-lg-4 col-sm-12 feature wow rotateIn","data-wow-delay":"0.8s","data-wow-duration":"1s",children:[Object(v.jsx)("img",{src:"/static/assets/images/Group2.png",alt:""}),Object(v.jsxs)("h4",{className:"feature-content text-center",children:[Object(v.jsx)("strong",{children:"Delicious"})," foods from ",Object(v.jsx)("br",{}),"the popular ",Object(v.jsx)("strong",{children:"chef"})," cookers"]})]}),Object(v.jsxs)("div",{className:"col-md-4 col-lg-4 col-sm-12 feature wow rotateIn","data-wow-delay":"1s","data-wow-duration":"1s",children:[Object(v.jsx)("img",{src:"/static/assets/images/Group3.png",alt:""}),Object(v.jsxs)("h4",{className:"feature-content text-center",children:[Object(v.jsx)("strong",{children:"Fast"})," delivery service"]})]})]})]})},se=function(){return Object(v.jsxs)("section",{className:"daily-food-str mb-5",children:[Object(v.jsx)("h3",{className:"title text-center wow fadeInUp",children:Object(v.jsx)("img",{src:"/assets/images/daily_food.png",alt:""})}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-4 col-lg-4 position-relative wow slideInLeft","data-wow-delay":"0.5s",children:Object(v.jsx)("img",{src:"/static/assets/images/icons/ar_lb.png",alt:"",className:"ar-lb"})}),Object(v.jsxs)("div",{className:"col-md-4 col-lg-4 col-sm-12 feature wow fadeInUp","data-wow-delay":"0.3s",children:[Object(v.jsx)(j.b,{to:"/menu/breakfast",children:Object(v.jsx)("img",{className:"type",src:"/static/assets/images/breakfast.png",alt:""})}),Object(v.jsx)("h4",{className:"name text-center",children:"Breakfast"})]}),Object(v.jsx)("div",{className:"col-md-4 col-lg-4 position-relative wow slideInRight","data-wow-delay":"0.5s",children:Object(v.jsx)("img",{src:"/static/assets/images/icons/ar_rb.png",alt:"",className:"ar-rb"})}),Object(v.jsxs)("div",{className:"col-md-4 col-lg-4 col-sm-12 feature wow fadeInLeft","data-wow-delay":"0.6s",children:[Object(v.jsx)(j.b,{to:"/menu/dinner",children:Object(v.jsx)("img",{className:"type",src:"/static/assets/images/dinner.png",alt:""})}),Object(v.jsx)("h4",{className:"name text-center",children:"Dinner"})]}),Object(v.jsx)("div",{className:"col-md-4 col-lg-4"}),Object(v.jsxs)("div",{className:"col-md-4 col-lg-4 col-sm-12 feature wow fadeInRight","data-wow-delay":"0.6s",children:[Object(v.jsx)(j.b,{to:"/menu/supper",children:Object(v.jsx)("img",{className:"type",src:"/static/assets/images/lunch.png",alt:""})}),Object(v.jsx)("h4",{className:"name text-center",children:"Supper"})]})]})]})},re=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){var e=this;if(!this.props.discountFoods)return Object(v.jsx)("div",{});var t=this.props.discountFoods.map((function(t){return Object(v.jsx)(Q,{food:t,isLoggedIn:e.props.isLoggedIn,addToCart:e.props.addToCart},t.id)}));return Object(v.jsxs)("section",{className:"discount-foods",children:[Object(v.jsxs)("h1",{className:"title",children:["Get our foods at ",Object(v.jsx)("span",{children:"\ud83c\udf1f"}),Object(v.jsx)("span",{className:"special",children:"discount"}),Object(v.jsx)("span",{children:"\ud83c\udf1f"})]}),Object(v.jsx)(G.a,{loop:!0,items:3,margin:10,nav:!0,className:"owl-theme owl-carousel-discount",children:t})]})}}]),s}(r.Component),ae=function(e){var t="carousel-item";e.active&&(t="carousel-item active");var s=null;e.review.user.first_name&&e.review.user.last_name&&(s=e.review.user.first_name+" "+e.review.user.last_name);for(var r=[],a=0;a<5;a++)a<e.review.rate?r.push(Object(v.jsx)(m.a,{icon:p.g,className:"star checked"},a)):r.push(Object(v.jsx)(m.a,{icon:p.g,className:"fas star"},a));return Object(v.jsx)("div",{className:t,children:Object(v.jsxs)("div",{className:"review-block",children:[Object(v.jsx)("div",{className:"ava",children:Object(v.jsx)("img",{style:{width:"200px",height:"200px"},src:D+e.review.user.avatar,alt:"Image Not Found"})}),Object(v.jsx)("h3",{className:"name text-center",children:s}),Object(v.jsx)("h3",{className:"name text-center",children:e.review.user.username}),Object(v.jsxs)("div",{className:"rating-block text-center",children:[Object(v.jsx)("span",{children:"Rating:"}),r]}),Object(v.jsx)("p",{className:"text-center",children:Object(v.jsxs)("small",{className:"font-italic",children:["Date: ",e.review.created_date]})}),Object(v.jsx)("p",{className:"text-center review-content",children:Object(v.jsx)("q",{children:e.review.content})})]})})},ne=function(e){if(e.errMsg||e.isLoading||!e.reviews)return Object(v.jsx)("div",{});var t=[];t.push(Object(v.jsx)(ae,{review:e.reviews[0],active:!0},e.reviews[0].id)),t.push(e.reviews.map((function(t){if(t!==e.reviews[0])return Object(v.jsx)(ae,{review:t,active:!1},t.id)})));for(var s=[],r=0;r<e.reviews.length;r++){var n="";0===r&&(n="active"),s.push(Object(v.jsx)("li",{"data-target":"#carouselExampleIndicators","data-slide-to":r+1,className:n},r))}return Object(v.jsxs)("section",{className:"reviews mt-5",children:[Object(v.jsxs)("h3",{className:"title text-center text-white",children:["What others say...",e.isLoggedIn&&Object(v.jsxs)(a.a.Fragment,{children:[e.userHasReview&&Object(v.jsx)("button",{className:"review-btn",id:"editReviewBtn",onClick:e.toggle,children:"Edit Your Review"}),!e.userHasReview&&Object(v.jsx)("button",{className:"review-btn",id:"editReviewBtn",onClick:e.toggle,children:"Leave Review"})]})]}),Object(v.jsxs)("div",{id:"carouselExampleIndicators",className:"carousel slide","data-ride":"carousel",children:[Object(v.jsx)("ol",{className:"carousel-indicators",children:s}),Object(v.jsx)("div",{className:"carousel-inner",children:t}),Object(v.jsxs)("a",{className:"carousel-control-prev",href:"#carouselExampleIndicators",role:"button","data-slide":"prev",children:[Object(v.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(v.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(v.jsxs)("a",{className:"carousel-control-next",href:"#carouselExampleIndicators",role:"button","data-slide":"next",children:[Object(v.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(v.jsx)("span",{className:"sr-only",children:"Next"})]})]})]})},ce=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).toggleReviewModal=function(){r.setState({isReviewModalOpen:!r.state.isReviewModalOpen})},r.state={isReviewModalOpen:!1},r.toggleReviewModal=r.toggleReviewModal.bind(Object(u.a)(r)),r}return Object(i.a)(s,[{key:"render",value:function(){return Object(v.jsxs)(a.a.Fragment,{children:[Object(v.jsx)(X,{}),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(ee,{}),Object(v.jsx)(te,{}),Object(v.jsx)(se,{}),Object(v.jsx)(re,{discountFoods:this.props.discountFoods,isLoggedIn:this.props.isLoggedIn,addToCart:this.props.addToCart})]}),Object(v.jsx)(ne,{reviews:this.props.reviews,isLoading:this.props.isLoading,errMsg:this.props.errMsg,isLoggedIn:this.props.isLoggedIn,toggle:this.toggleReviewModal,userHasReview:!!this.props.userReview.review}),this.props.isLoggedIn&&Object(v.jsx)(K,{isOpen:this.state.isReviewModalOpen,toggle:this.toggleReviewModal,user:this.props.user,userReview:this.props.userReview,resetForm:this.props.resetReviewForm,addReview:this.props.addReview,updateReview:this.props.updateReview})]})}}]),s}(r.Component),oe=ce,ie=function(){return Object(v.jsxs)("footer",{className:"position-relative",children:[Object(v.jsx)("div",{className:"footer-top-image",children:Object(v.jsx)("img",{src:"/static/assets/images/ink_white_footer.png",alt:""})}),Object(v.jsxs)("div",{className:"row m-0",children:[Object(v.jsx)("div",{className:"col-md-4 col-lg-4 position-relative",children:Object(v.jsx)("img",{src:"/static/assets/images/limonPattern_left.png",alt:"",className:"left wow fadeInLeft"})}),Object(v.jsxs)("div",{className:"col-md-4 col-lg-4 container",children:[Object(v.jsx)("h1",{className:"fantasy text-center",children:Object(v.jsxs)("a",{href:"#",children:[" ",Object(v.jsx)("img",{src:"/static/assets/images/logo.png",alt:"logo"})]})}),Object(v.jsx)("div",{className:"contact",children:Object(v.jsxs)("ul",{className:"list-unstyled",children:[Object(v.jsxs)("li",{className:"contact-item",children:[Object(v.jsx)(m.a,{icon:p.d,className:"fas fa-2x float-left"}),Object(v.jsxs)("span",{className:"pl-1",children:["Ziyolilar st, Mirzo Ulugbek ",Object(v.jsx)("br",{})," dis. Tashkent Uzbekistan"]})]}),Object(v.jsxs)("li",{className:"contact-item",children:[Object(v.jsx)(m.a,{icon:p.e,className:"fas fa-2x float-left"}),Object(v.jsx)("span",{className:"pl-1",children:"+99871 268-41-23"})]}),Object(v.jsxs)("li",{className:"contact-item",children:[Object(v.jsx)(m.a,{icon:p.b,className:"far fa-2x float-left"}),Object(v.jsx)("span",{className:"pl-1",children:"fantasy@gmail.com"})]})]})})]}),Object(v.jsx)("div",{className:"col-md-4 col-lg-4 position-relative",children:Object(v.jsx)("img",{src:"/static/assets/images/limonPattern_right.png",alt:"",className:"right wow fadeInRight"})})]})]})},le=s(59),de=function(){return Object(v.jsxs)("section",{className:"menu-header position-relative",children:[Object(v.jsx)("h3",{className:"title",children:"Our Menu"}),Object(v.jsx)("div",{className:"hero-footer-image",children:Object(v.jsx)("img",{src:"/static/assets/images/ink_white.png",alt:""})})]})},ue=function(e){var t=Object(r.useState)(0),s=Object(le.a)(t,2),a=s[0],n=s[1];return Object(v.jsx)("div",{className:"cuisine",style:{backgroundImage:"url(".concat(D)+e.cuisine.image+")"},children:Object(v.jsx)("div",{className:"overlay text-center",style:{opacity:a},onMouseEnter:function(e){n(1)},onMouseLeave:function(e){n(0)},children:Object(v.jsx)("span",{children:e.cuisine.name})})})},me=function(e){if(e.errMsg)return Object(v.jsx)("h3",{className:"text-danger",children:e.errMsg});var t=e.cuisines.map((function(e){return Object(v.jsx)(ue,{cuisine:e},e.id)}));return Object(v.jsx)("section",{className:"section-cuisine fadeInUp mt-5","data-wow-duration":"1s","data-wow-delay":"300ms",children:Object(v.jsx)(G.a,{margin:10,className:"owl-theme owl-carousel-cuisine",children:t})})},pe=function(e){return Object(v.jsx)("div",{className:"item text-center",style:{backgroundImage:"url(".concat(D)+e.type.image+")"},children:Object(v.jsx)("a",{href:"#".concat(e.type.name),children:e.type.name})})},je=function(e){if(e.errMsg)return Object(v.jsx)("h1",{className:"text-danger",children:e.errMsg});var t=e.types.map((function(e){return Object(v.jsx)(pe,{type:e},e.id)}));return Object(v.jsx)("section",{className:"food-types mt-3",children:Object(v.jsx)(G.a,{margin:20,className:"owl-theme owl-carousel-type",children:t})})},he=function(e){if(e.errMsg)return Object(v.jsx)("h1",{className:"text-danger",children:e.errMsg});var t=e.types.map((function(t){var s=e.foods.filter((function(e){return e.type===t.id})).map((function(t){return Object(v.jsx)("div",{className:"col-md-4 col-lg-4 col-sm-6 col-xs-12",children:Object(v.jsx)("div",{className:"item",children:Object(v.jsx)(Q,{food:t,addToCart:e.addToCart,isLoggedIn:e.isLoggedIn})})},t.id)}));return Object(v.jsxs)(a.a.Fragment,{children:[Object(v.jsx)("h2",{id:t.name,className:"title text-center",children:t.name}),Object(v.jsx)("div",{className:"row",children:s})]})}));return Object(v.jsx)("section",{className:"foods",children:t})},be=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){return Object(v.jsxs)(a.a.Fragment,{children:[Object(v.jsx)(de,{}),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(me,{cuisines:this.props.cuisines,errMsg:this.props.errMsgCuisines}),Object(v.jsx)(je,{types:this.props.types,errMsg:this.props.errMsgTypes}),Object(v.jsx)(he,{foods:this.props.foods,errMsg:this.props.errMsgFoods,types:this.props.types,addToCart:this.props.addToCart,isLoggedIn:this.props.isLoggedIn})]})]})}}]),s}(r.Component),ge=s(21),Oe=function(e){return/^[a-z0-9]{2,}$/.test(e)},xe=function(e){return/^[A-Z]{1}[a-z]{1,}$/.test(e)},fe=function(e){return/^(\+998){1}[0-9]{9}$/.test(e)},ve=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).handleSubmit=function(e){var t=new FormData;e.avatar?t.append("avatar",e.avatar[0],e.avatar[0].name):t.append("avatar",""),t.append("username",e.username),t.append("first_name",e.first_name),t.append("last_name",e.last_name),t.append("email",e.email),t.append("address",e.address),t.append("phone_number",e.phone_number),r.props.updateUserDetails(t),r.props.resetEditProfileForm(),r.props.toggle()},r.state={error_style:{fontSize:"0.6em"}},r.handleSubmit=r.handleSubmit.bind(Object(u.a)(r)),r}return Object(i.a)(s,[{key:"render",value:function(){var e=this;return Object(v.jsxs)(h.a,{isOpen:this.props.isOpen,toggle:this.props.toggle,className:"edit-modal",id:"editProfileWindow",children:[Object(v.jsx)(b.a,{toggle:this.props.toggle,children:"Edit Profile Form"}),Object(v.jsx)(g.a,{children:Object(v.jsxs)(f.Form,{onSubmit:function(t){return e.handleSubmit(t)},model:"editProfile",className:"row",encType:"multipart/form-data",children:[Object(v.jsx)("h5",{className:"text-center text-primary col-12",children:Object(v.jsx)("strong",{children:"Edit your info"})}),Object(v.jsxs)("div",{className:"form-group col-lg-6 col-md-6 col-sm-6 col-xs-12",children:[Object(v.jsx)("label",{htmlFor:"username",children:"Username:"}),Object(v.jsx)(f.Control.text,{className:"form-control",model:".username",name:"username",defaultValue:this.props.user.username,validators:{username_vld:Oe},placeholder:"Username",required:!0}),Object(v.jsx)(f.Errors,{className:"text-danger",model:".username",style:this.state.error_style,show:"touched",messages:{username_vld:"Only small letters and numbers are allowed and at least 2 characters"}})]}),Object(v.jsxs)("div",{className:"form-group col-lg-6 col-md-6 col-sm-6 col-xs-12",children:[Object(v.jsx)("label",{htmlFor:"first_name",children:"First Name:"}),Object(v.jsx)(f.Control.text,{className:"form-control",model:".first_name",name:"first_name",defaultValue:this.props.user.first_name,validators:{name_vld:xe},placeholder:"First Name",required:!0}),Object(v.jsx)(f.Errors,{className:"text-danger",model:".first_name",style:this.state.error_style,show:"touched",messages:{name_vld:"Only letters and should start with a capital letter and at least 2 characters"}})]}),Object(v.jsxs)("div",{className:"form-group col-lg-6 col-md-6 col-sm-6 col-xs-12",children:[Object(v.jsx)("label",{htmlFor:"last_name",children:"Last Name:"}),Object(v.jsx)(f.Control.text,{className:"form-control",model:".last_name",name:"last_name",defaultValue:this.props.user.last_name,validators:{name_vld:xe},placeholder:"Last Name",required:!0}),Object(v.jsx)(f.Errors,{className:"text-danger",model:".last_name",style:this.state.error_style,show:"touched",messages:{name_vld:"Only letters and should start with a capital letter and at least 2 characters"}})]}),Object(v.jsxs)("div",{className:"form-group col-lg-6 col-md-6 col-sm-6 col-xs-12",children:[Object(v.jsx)("label",{htmlFor:"address",children:"Address:"}),Object(v.jsx)(f.Control,{type:"address",className:"form-control",model:".address",placeholder:"Address",name:"address",defaultValue:this.props.user.address,required:!0})]}),Object(v.jsxs)("div",{className:"form-group col-lg-6 col-md-6 col-sm-6 col-xs-12",children:[Object(v.jsx)("label",{htmlFor:"phone_number",children:"Phone Number:"}),Object(v.jsx)(f.Control.text,{className:"form-control",model:".phone_number",placeholder:"Phone Number",name:"phone_number",validators:{phone_number_vld:fe},defaultValue:this.props.user.phone_number,required:!0}),Object(v.jsx)(f.Errors,{className:"text-danger",model:".phone_number",style:this.state.error_style,show:"touched",messages:{phone_number_vld:"Should be in the format of +998xxxxxxxxx"}})]}),Object(v.jsxs)("div",{className:"form-group col-lg-6 col-md-6 col-sm-6 col-xs-12",children:[Object(v.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(v.jsx)(f.Control,{type:"email",className:"form-control",model:".email",placeholder:"Email",name:"email",defaultValue:this.props.user.email})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{htmlFor:"email",children:"User Avatar:"}),this.props.user.avatar&&Object(v.jsxs)("p",{children:["Current file:",Object(v.jsx)("a",{href:D+this.props.user.avatar,children:Object(v.jsx)("small",{class:"text-primary",children:this.props.user.avatar})})]}),Object(v.jsx)(f.Control.file,{className:"form-control",model:".avatar",accept:"image/*",name:"avatar"})]}),Object(v.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save"})]})})]})}}]),s}(r.Component),Ne=s(74),ye=s.n(Ne),we=function(){return Object(v.jsxs)("section",{className:"dashboard-header position-relative",children:[Object(v.jsx)("div",{className:"title",children:Object(v.jsx)("h3",{children:"Welcome, Tukhtamurod Isroilov"})}),Object(v.jsx)("div",{className:"hero-footer-image",children:Object(v.jsx)("img",{src:"/static/assets/images/ink white.png",alt:""})})]})},_e=function(e){var t=Object(r.useState)(!1),s=Object(le.a)(t,2),a=s[0],n=s[1];return e.user.user?Object(v.jsxs)("div",{className:"user-info row",children:[Object(v.jsxs)("div",{className:"avatar col-md-3 col-lg-3 text-center pt-4",children:[e.user.avatar&&Object(v.jsx)("img",{src:D+e.user.user.avatar,alt:""}),!e.user.avatar&&Object(v.jsx)(m.a,{icon:p.k,className:"fa-10x"})]}),Object(v.jsx)("div",{className:"info-content col-md-6 col-lg-6",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("h4",{className:"name col-md-12",children:e.user.user.username}),Object(v.jsxs)("div",{className:"col-md-6 col-sm-12",children:[Object(v.jsx)(m.a,{icon:p.e})," ",Object(v.jsx)("strong",{children:"Phone Number:"}),Object(v.jsx)("br",{}),e.user.user.phone_number]}),Object(v.jsxs)("div",{className:"col-md-6 col-sm-12",children:[Object(v.jsx)(m.a,{icon:ge.b})," ",Object(v.jsx)("strong",{children:"Email:"}),Object(v.jsx)("br",{}),e.user.user.email]}),Object(v.jsxs)("div",{className:"col-sm-12",children:[Object(v.jsx)(m.a,{icon:p.c})," ",Object(v.jsx)("strong",{children:"Address:"}),e.user.user.address]})]})}),Object(v.jsx)("div",{className:"status-container col-md-3 col-sm-3",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("a",{onClick:function(){return n(!a)},className:"btn btn-edit-profile col-12",children:"Edit profile"}),Object(v.jsx)(ve,{isOpen:a,toggle:function(){return n(!a)},user:e.user.user,resetEditProfileForm:e.resetEditProfileForm,updateUserDetails:e.updateUserDetails}),Object(v.jsxs)("div",{className:"col-12 status mt-2",children:[Object(v.jsxs)("div",{className:"vaucher",children:[e.userStatus&&Object(v.jsx)("h3",{className:"type text-center text-uppercase",children:e.userStatus.status}),e.userStatus&&Object(v.jsxs)("p",{className:"value text-danger text-center",children:[e.userStatus.status_bonus,"% off for any order"]})]}),Object(v.jsx)("h4",{className:"text-center text-uppercase text-info",children:"Status"})]})]})})]}):Object(v.jsx)("div",{})},Se=function(e){return Object(v.jsx)("section",{className:"statistics",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-2 col-sm-12"}),Object(v.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(v.jsxs)("div",{className:"item",id:"total-orders",children:[Object(v.jsx)("h2",{className:"value text-left",children:Object(v.jsx)(ye.a,{from:0,to:e.userStatus&&e.userStatus.total_orders,speed:1e3})}),Object(v.jsx)("p",{className:"title",children:"Total orders"}),Object(v.jsx)(m.a,{icon:ge.g,className:"fa-3x custom-i"})]})}),Object(v.jsx)("div",{className:"col-md-4 col-sm-12",children:Object(v.jsxs)("div",{className:"item",id:"total-expenses",children:[Object(v.jsx)("h2",{className:"value text-left",children:Object(v.jsx)(ye.a,{from:0,to:e.userStatus&&e.userStatus.total_expenses,speed:2e3})}),Object(v.jsx)("p",{className:"title",children:"Total expenses"}),Object(v.jsx)(m.a,{icon:p.l,className:"fa-3x custom-i"})]})}),Object(v.jsx)("div",{className:"col-md-2 col-sm-12"})]})})},Ce=function(e){return Object(v.jsxs)("div",{className:"item row",children:[Object(v.jsx)("div",{className:"col-1",children:Object(v.jsxs)("span",{className:"badge badge-secondary",children:[e.item.id+1,"."]})}),Object(v.jsx)("div",{className:"col-10",children:Object(v.jsx)("p",{className:"item-name",children:e.item.name})}),Object(v.jsx)("div",{className:"col-1",children:Object(v.jsx)("span",{className:"badge badge-primary",children:e.item.quantity})})]})},Ie=function(e){var t=e.order.items.map((function(e){return Object(v.jsx)(Ce,{item:e},e.id)}));return Object(v.jsxs)("div",{className:"order-block row mb-3",children:[Object(v.jsx)("div",{className:"col-3",children:Object(v.jsx)("div",{className:"order-name text-center",children:Object(v.jsxs)("span",{children:["\u2116",e.order.id+1]})})}),Object(v.jsxs)("div",{className:"col-6",children:[Object(v.jsx)("div",{className:"order-details flex-column",children:t}),Object(v.jsx)("div",{className:"col-12 text-center",children:Object(v.jsx)("div",{className:"summary",children:Object(v.jsxs)("p",{children:["Total cost(+delivery fee): ",Object(v.jsx)("span",{className:"badge badge-success",children:e.order.totalCost})]})})})]}),Object(v.jsx)("div",{className:"col-3",children:Object(v.jsxs)("div",{className:"date-block text-center",children:[Object(v.jsx)("span",{children:e.order.created_date.substr(0,10)}),Object(v.jsx)("span",{children:e.order.created_date.substr(11,5)})]})})]})},Te=function(e){var t=e.orders.tables.length>0?e.orders.tables.map((function(e,t){return Object(v.jsxs)("h4",{className:"text-success col-4",children:[Object(v.jsxs)("span",{className:"text-danger",children:[t+1,". Table#",e.id]})," ",e.start_time.substr(0,5)," - ",e.end_time.substr(0,5)]},e.id)})):null;return Object(v.jsxs)("section",{className:"history mb-5",children:[Object(v.jsx)("h2",{className:"text-center text-info mb-4",children:"Your active table orders"}),Object(v.jsxs)("div",{className:"row",children:[0===e.orders.tables.length&&Object(v.jsx)("h4",{className:"text-warning",children:"You currently have no tables ordered!"}),t]})]})},ke=function(e){if(0===e.orderHistory.orders.length)return Object(v.jsx)("div",{});var t=e.orderHistory.orders.map((function(e){return Object(v.jsx)(Ie,{order:e},e.id)}));return Object(v.jsxs)("section",{className:"history mb-5",children:[Object(v.jsx)("h2",{className:"text-center text-info mb-4",children:"Here is your order history"}),Object(v.jsx)("div",{className:"row",children:Object(v.jsxs)("div",{className:"col-12",children:[t,Object(v.jsx)("hr",{})]})})]})},Ee=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){return Object(v.jsxs)(a.a.Fragment,{children:[Object(v.jsx)(we,{}),Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(_e,{user:this.props.user,resetEditProfileForm:this.props.resetEditProfileForm,updateUserDetails:this.props.updateUserDetails,userStatus:this.props.userStatus}),Object(v.jsx)(Se,{userStatus:this.props.userStatus}),Object(v.jsx)(Te,{orders:this.props.userOrderedTables}),Object(v.jsx)(ke,{orderHistory:this.props.orderHistory})]})]})}}]),s}(r.Component),Me=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){var e,t,s=this;switch(this.props.type){case"Drinks":e="/assets/images/drinks-page-bg.jpg",t="Don't chase anything but drinks and dreams...";break;case"Breakfast":e="/static/assets/images/breakfast_bg.jpg",t="A good breakfast is a start of a good day!";break;case"Dinner":e="/static/assets/images/dinner-bg.jpg",t="Dinner is where the magic happens in the kitchen!";break;case"Supper":e="/static/assets/images/supper-bg.jpg",t="After dinner rest a while, after supper walk a while!";break;default:e="/static/assets/images/supper-bg.jpg",t="After dinner rest a while, after supper walk a while!"}var r=null;return r=this.props.errMsg?Object(v.jsx)("h1",{className:"text-danger",style:{zIndex:"10"},children:this.props.errMsg}):this.props.foods.map((function(e){return Object(v.jsx)("div",{className:"col-md-4 col-lg-4 col-sm-6 col-xs-12",children:Object(v.jsx)("div",{className:"item",children:Object(v.jsx)(Q,{food:e,addToCart:s.props.addToCart,isLoggedIn:s.props.isLoggedIn})})},e.id)})),Object(v.jsxs)(a.a.Fragment,{children:[Object(v.jsxs)("section",{className:"listings-header position-relative",style:{backgroundImage:"url(".concat(e,")")},children:[Object(v.jsx)("div",{className:"title",children:Object(v.jsx)("h4",{children:t})}),Object(v.jsx)("div",{className:"hero-footer-image",children:Object(v.jsx)("img",{src:"/static/assets/images/ink_white.png",alt:""})})]}),Object(v.jsx)("div",{className:"container",children:Object(v.jsx)("section",{className:"foods",children:Object(v.jsx)("div",{className:"row",children:r})})})]})}}]),s}(r.Component),Le=function(e){return Object(v.jsx)(Me,{type:"Drinks",foods:e.drinks,errMsg:e.errMsg,addToCart:e.addToCart,isLoggedIn:e.isLoggedIn})},Fe=function(e){return Object(v.jsx)(Me,{type:"Breakfast",errMsg:e.errMsg,foods:e.foods,addToCart:e.addToCart,isLoggedIn:e.isLoggedIn})},Re=function(e){return Object(v.jsx)(Me,{type:"Dinner",foods:e.foods,errMsg:e.errMsg,addToCart:e.addToCart,isLoggedIn:e.isLoggedIn})},De=function(e){return Object(v.jsx)(Me,{type:"Supper",foods:e.foods,errMsg:e.errMsg,addToCart:e.addToCart,isLoggedIn:e.isLoggedIn})},Ae="ADD_CUISINES",Ue="CUISINES_FAILED",Pe="ADD_TYPES",qe="TYPES_FAILED",Be="ADD_FOODS",We="FOODS_FAILED",ze="ADD_DRINKS",Je="DRINKS_FAILED",He="ADD_BREAKFAST",Ve="BREAKFAST_FAILED",Ge="ADD_DINNER",Ye="DINNER_FAILED",$e="ADD_SUPPER",Ke="SUPPER_FAILED",Ze="ADD_REVIEWS",Qe="REVIEWS_FAILED",Xe="REVIEWS_LOADING",et="ADD_USER",tt="USER_FAILED",st="LOGIN_SUCCESS",rt="LOGIN_FAILURE",at="LOGOUT_SUCCESS",nt="ADD_USER_REVIEW",ct="USER_REVIEW_FAILED",ot="ADD_REVIEW_FAILED",it="ADD_REVIEW_SUCCESS",lt="UPDATE_REVIEW_SUCCESS",dt="TABLES_SUCCESS",ut="TABLES_FAILED",mt="USER_ORDERED_TABLES_SUCCESS",pt="USER_ORDERED_TABLES_FAILED",jt="ADD_ORDERED_TABLE",ht="UPDATE_USER_DETAILS_SUCCESS",bt="UPDATE_USER_DETAILS_FAILED",gt="INIT_CART",Ot="ADD_TO_CART",xt="ADD_ORDER_ITEM_TO_HISTORY",ft="USER_ORDER_HISTORY_SUCCESS",vt="USER_ORDER_HISTORY_FAILED",Nt="USER_STATUS_SUCCESS",yt=function(){return function(e){return U.a.get(D+"/api/menu/cuisines/").then((function(e){return e.data})).then((function(t){return e(function(e){return{type:Ae,payload:e}}(t))})).catch((function(t){return e((s=t.message,{type:Ue,payload:s}));var s}))}},wt=function(){return function(e){return U.a.get(D+"/api/menu/types/").then((function(e){return e.data})).then((function(t){return e(function(e){return{type:Pe,payload:e}}(t))})).catch((function(t){return e((s=t.message,{type:qe,payload:s}));var s}))}},_t=function(){return function(e){return U.a.get(D+"/api/menu/foods/").then((function(e){return e.data})).then((function(t){return e(function(e){return{type:Be,payload:e}}(t))})).catch((function(t){return e((s=t.message,{type:We,payload:s}));var s}))}},St=function(){return function(e){return U.a.get(D+"/api/menu/drinks/").then((function(e){return e.data})).then((function(t){return e(function(e){return{type:ze,payload:e}}(t))})).catch((function(t){return e((s=t.message,{type:Je,payload:s}));var s}))}},Ct=function(){return function(e){return U.a.get(D+"/api/menu/breakfast/").then((function(e){return e.data})).then((function(t){return e(function(e){return{type:He,payload:e}}(t))})).catch((function(t){return e((s=t.message,{type:Ve,payload:s}));var s}))}},It=function(){return function(e){return U.a.get(D+"/api/menu/dinner/").then((function(e){return e.data})).then((function(t){return e(function(e){return{type:Ge,payload:e}}(t))})).catch((function(t){return e((s=t.message,{type:Ye,payload:s}));var s}))}},Tt=function(){return function(e){return U.a.get(D+"/api/menu/supper/").then((function(e){return e.data})).then((function(t){return e(function(e){return{type:$e,payload:e}}(t))})).catch((function(t){return e((s=t.message,{type:Ke,payload:s}));var s}))}},kt=function(){return function(e){return e({type:Xe}),U.a.get(D+"/api/pages/reviews/").then((function(e){return e.data})).then((function(t){return e(function(e){return{type:Ze,payload:e}}(t))})).catch((function(t){return e((s=t.message,{type:Qe,payload:s}));var s}))}},Et=function(){return{type:st}},Mt=function(e,t){return function(s){var r={username:e,password:t};return U.a.post(D+"/api/accounts/token-auth/",r,{headers:{"Content-Type":"application/json"}}).then((function(e){return e.data})).then((function(e){localStorage.setItem("token",e.token),setTimeout((function(){alert("Your session has expired!"),s(Ft()),sessionStorage.clear()}),e.expiry_time),s(Et(e.user)),s(Lt()),s(Rt()),s(Pt()),s(zt()),s(Jt()),s(Bt())})).catch((function(e){return s({type:rt,payload:"Incorrect login credentials!"})}))}},Lt=function(){return function(e){return U.a.get(D+"/api/accounts/current_user/",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.data})).then((function(t){return e(function(e){return{type:et,payload:e}}(t))})).catch((function(t){return e((s=t.message,{type:tt,payload:s}));var s}))}},Ft=function(){return{type:at}},Rt=function(){return function(e){return U.a.get(D+"/api/pages/user-review/",{headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.data})).then((function(t){return e(function(e){return{type:nt,payload:e}}(t))})).catch((function(t){return e((s=t.message,{type:ct,payload:s}));var s}))}},Dt=function(e){return function(t){return e.append("created_date",(new Date).toISOString()),U.a.post(D+"/api/pages/user-review/",e,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.data})).then((function(e){t(function(e){return{type:it,payload:e}}(e)),t(Rt())})).catch((function(e){return t((s=e.message,{type:ot,payload:s}));var s}))}},At=function(e){return function(t){return e.append("created_date",(new Date).toISOString()),U.a.put(D+"/api/pages/user-review/",e,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.data})).then((function(e){return t(function(e){return{type:lt,payload:e}}(e))})).catch((function(e){return t({type:"UPDATE_REVIEW_FAILED",payload:e.message})}))}},Ut=function(){return function(e){return U.a.get(D+"/api/pages/tables/",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.data})).then((function(t){return e(function(e){return{type:dt,payload:e}}(t))})).catch((function(t){return e((s=t.message,{type:ut,payload:s}));var s}))}},Pt=function(){return function(e){return U.a.get(D+"/api/pages/user-tables/",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.data})).then((function(t){return e(function(e){return{type:mt,payload:e}}(t))})).catch((function(t){return e((s=t.message,{type:pt,payload:s}));var s}))}},qt=function(e){return function(t){return U.a.put(D+"/api/accounts/user-update/",e,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.data})).then((function(e){return t(function(e){return{type:ht,payload:e}}(e))})).catch((function(e){return t((s=e.message,{type:bt,payload:s}));var s}))}},Bt=function(){var e=0,t=0,s=[];if(sessionStorage.getItem("cart")){(r=JSON.parse(sessionStorage.getItem("cart"))).items&&r.items.length>0&&r.totalCost&&r.numberOfItems&&(e=r.totalCost,t=r.numberOfItems,s=r.items)}else{var r={totalCost:e,numberOfItems:t,items:s};sessionStorage.setItem("cart",JSON.stringify(r))}return{type:gt,payload:JSON.parse(sessionStorage.getItem("cart"))}},Wt=function(e){return function(t){return U.a.post(D+"/api/pages/order/",e,{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.data})).then((function(e){sessionStorage.removeItem("cart"),t(Bt()),t(function(e){return{type:xt,payload:e}}(e)),t(Jt())})).catch((function(e){return console.log(e.message)}))}},zt=function(){return function(e){return U.a.get(D+"/api/pages/user-order-history/",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.data})).then((function(t){return e(function(e){return{type:ft,payload:e}}(t))})).catch((function(t){return e((s=t.message,{type:vt,payload:s}));var s}))}},Jt=function(){return function(e){return U.a.get(D+"/api/accounts/user-status/",{headers:{Authorization:"JWT ".concat(localStorage.getItem("token"))}}).then((function(e){return e.data})).then((function(t){return e(function(e){return{type:Nt,payload:e}}(t))})).catch((function(t){return e({type:"USER_STATUS_FAILED",payload:t.message})}))}},Ht=function(e){return Object(v.jsxs)("section",{className:"order-header position-relative",children:[Object(v.jsxs)("div",{className:"title",children:[Object(v.jsx)("h3",{children:"Not only at the restaurant..."}),Object(v.jsx)("p",{children:"Get your food easily from our take away service!"})]}),Object(v.jsx)("div",{className:"hero-footer-image",children:Object(v.jsx)("img",{src:"/static/assets/images/ink_white.png",alt:""})})]})},Vt=function(e){return Object(v.jsx)("div",{className:"col-12 item",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("div",{className:"col-md-2 position-relative",children:Object(v.jsx)("img",{src:D+e.item.image,alt:""})}),Object(v.jsx)("div",{className:"col-md-8 item-content",children:Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("h5",{className:"col-md-9 col-lg-9 name",children:e.item.name}),Object(v.jsx)("div",{className:"col-md-3 col-lg-3 text-right",children:Object(v.jsx)("span",{className:"badge badge-danger price p-2",children:e.item.price*(1-e.item.discount/100)})})]})}),Object(v.jsx)("div",{className:"col-md-2",children:Object(v.jsxs)("div",{className:"row h-100",children:[Object(v.jsx)("div",{className:"col-md-6 col-lg-6 quantity-form",children:Object(v.jsx)("span",{style:{fontWeight:"bold",fontSize:"1.2em"},children:e.item.quantity})}),Object(v.jsx)("button",{className:"btn btn-danger flex-grow-1 col-md-6 col-lg-6",id:"removeItem",onClick:function(){return e.removeCartItem(e.item.id)},children:Object(v.jsx)(m.a,{icon:p.j})})]})})]})})},Gt=function(e){var t=[];return e.cart.numberOfItems?t=e.cart.items.map((function(t){return Object(v.jsx)(Vt,{item:t,removeCartItem:e.removeCartItem},t.id)})):t.push(null),Object(v.jsx)("div",{className:"col-md-8 col-lg-8 col-sm-12 order-list",children:Object(v.jsx)("div",{className:"container row",children:t})})},Yt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).handlePhoneBtnClick=function(){var e;(e=r.state.phone_number,/^(\+998){1}[0-9]{9}$/.test(e))?r.setState({isPhoneInputOpen:!1,phone_number_err:""}):r.setState({phone_number_err:"Correct form: +998xxxxxxxxx"})},r.handleOrderBtnClick=function(){if(r.state.address){for(var e=[],t=[],s=new FormData,a=0;a<r.props.cart.items.length;a++)e.push(r.props.cart.items[a].id),t.push(parseInt(r.props.cart.items[a].quantity));s.append("item_list",e),s.append("quantity_list",t),s.append("price",r.props.cart.totalCost*(1-r.props.userStatus.status_bonus/100)),s.append("delivery_fee",.1*r.props.cart.totalCost),r.props.postCart(s)}},r.state={phone_number:r.props.user.user?r.props.user.user.phone_number:"",phone_number_err:"",address:r.props.user.user?r.props.user.user.address:"",isPhoneInputOpen:!1,isAddressInputOpen:!1},r.handlePhoneBtnClick=r.handlePhoneBtnClick.bind(Object(u.a)(r)),r.handleOrderBtnClick=r.handleOrderBtnClick.bind(Object(u.a)(r)),r}return Object(i.a)(s,[{key:"render",value:function(){var e=this;if(!this.props.user.user)return Object(v.jsx)("div",{});var t=this.props.cart.totalCost/10,s=this.props.cart.totalCost*(1-this.props.userStatus.status_bonus/100)+t;return Object(v.jsx)("div",{className:"col-md-4 col-lg-4 col-sm-12 order-details",children:Object(v.jsxs)("div",{className:"order-card",children:[Object(v.jsx)("img",{src:"/static/assets/images/icons/shopping_cart_full.png",alt:"",className:"card-img-top"}),Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsxs)("div",{className:"order-price row",children:[Object(v.jsxs)("p",{className:"col-md-6",children:[Object(v.jsx)(m.a,{icon:ge.d}),"Order price:"]}),Object(v.jsx)("p",{className:"col-md-6 text-right",children:this.props.cart.totalCost})]}),Object(v.jsxs)("div",{className:"delivery-price row",children:[Object(v.jsxs)("p",{className:"col-md-6",children:[Object(v.jsx)(m.a,{icon:ge.i}),"Delivery fee:"]}),Object(v.jsx)("p",{className:"col-md-6 text-right",children:t})]}),Object(v.jsxs)("div",{className:"phone row",children:[Object(v.jsxs)("p",{className:"col-md-6",children:[Object(v.jsx)(m.a,{icon:ge.f}),"Contact-number:"]}),!this.state.isPhoneInputOpen&&Object(v.jsxs)("p",{className:"col-md-6 text-right phone-content",onMouseEnter:function(){return document.getElementsByClassName("edit-phone-btn")[0].setAttribute("style","right: 10px; opacity: 1")},onMouseLeave:function(){return document.getElementsByClassName("edit-phone-btn")[0].setAttribute("style","right: 50%; opacity:0")},children:[Object(v.jsx)("button",{className:"btn btn-info edit-phone-btn",onClick:function(){return e.setState({isPhoneInputOpen:!0})},children:Object(v.jsx)(m.a,{icon:ge.e})}),Object(v.jsx)("span",{children:this.state.phone_number})]}),this.state.isPhoneInputOpen&&Object(v.jsxs)("p",{className:"col-md-6 text-center edit-phone-block row",children:[Object(v.jsx)("input",{className:"form-control col-9",type:"text",defaultValue:this.state.phone_number,onChange:function(t){return e.setState({phone_number:t.target.value})},name:"phoneNumber"}),Object(v.jsx)("button",{className:"btn btn-success ml-1",children:Object(v.jsx)(m.a,{icon:ge.a,onClick:this.handlePhoneBtnClick})}),Object(v.jsx)("small",{className:"text-danger",children:this.state.phone_number_err})]})]}),Object(v.jsxs)("div",{className:"address row",children:[Object(v.jsxs)("p",{className:"col-md-6 col-lg-6",children:[Object(v.jsx)(m.a,{icon:ge.c}),"Address:"]}),!this.state.isAddressInputOpen&&Object(v.jsxs)("p",{className:"col-md-6 col-lg-6 text-right address-content",onMouseEnter:function(){return document.getElementsByClassName("edit-add-btn")[0].setAttribute("style","right: 10px; opacity: 1")},onMouseLeave:function(){return document.getElementsByClassName("edit-add-btn")[0].setAttribute("style","right: 50%; opacity:0")},children:[Object(v.jsx)("button",{className:"btn btn-info edit-add-btn",onClick:function(){return e.setState({isAddressInputOpen:!0})},children:Object(v.jsx)(m.a,{icon:ge.e})}),Object(v.jsx)("span",{children:this.state.address})]}),this.state.isAddressInputOpen&&Object(v.jsxs)("p",{className:"col-md-6 col-lg-6 edit-address-block text-center row",children:[Object(v.jsx)("input",{className:"form-control col-9",type:"text",defaultValue:this.state.address,onChange:function(t){return e.setState({address:t.target.value})},name:"address"}),Object(v.jsx)("button",{className:"btn btn-success ml-1",children:Object(v.jsx)(m.a,{icon:ge.a,onClick:function(){return e.setState({isAddressInputOpen:!1})}})})]})]}),Object(v.jsxs)("div",{className:"client-status row",children:[Object(v.jsxs)("p",{className:"col-md-6",children:[Object(v.jsx)(m.a,{icon:ge.h}),"Client status:"]}),Object(v.jsxs)("p",{className:"col-md-6 text-right",children:[this.props.userStatus.status," (",this.props.userStatus.status_bonus,"% off)"]})]}),Object(v.jsxs)("div",{className:"total-price row",children:[Object(v.jsxs)("p",{className:"col-md-6",children:[Object(v.jsx)(m.a,{icon:ge.d}),"Total price:"]}),Object(v.jsx)("p",{className:"col-md-6 text-right",children:s})]}),Object(v.jsx)("button",{className:"order-btn",onClick:this.handleOrderBtnClick,children:"Order"})]})]})})}}]),s}(r.Component),$t=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"render",value:function(){return Object(v.jsxs)(a.a.Fragment,{children:[Object(v.jsx)(Ht,{}),Object(v.jsxs)("div",{className:"order-content row",children:[Object(v.jsx)(Gt,{cart:this.props.cart,removeCartItem:this.props.removeCartItem}),Object(v.jsx)(Yt,{user:this.props.user,cart:this.props.cart,postCart:this.props.postCart,userStatus:this.props.userStatus})]})]})}}]),s}(r.Component),Kt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(i.a)(s,[{key:"componentDidMount",value:function(){this.props.fetchCuisines(),this.props.fetchTypes(),this.props.fetchFoods(),this.props.fetchDrinks(),this.props.fetchDailyFoods(),this.props.fetchReviews(),this.props.fetchUserReview(),this.props.fetchUser(),this.props.initCart(),this.props.fetchUserOrderHistory(),this.props.fetchUserStatus(),this.props.fetchUserTables()}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(a.a.Fragment,{children:[Object(v.jsx)(z,{logout:this.props.logout,isLoggedIn:this.props.user.isLoggedIn,auth:this.props.authenticate,user:this.props.user,resetSignupForm:this.props.resetSignupForm,resetContactForm:this.props.resetContactForm,resetOrderTableForm:this.props.resetOrderTableForm,registerNewUser:this.props.registerNewUser,postContactForm:this.props.postContactForm,fetchTables:this.props.fetchTables,tables:this.props.tables,cart:this.props.cart,addOrderedTable:this.props.addOrderedTable}),Object(v.jsxs)(J.d,{children:[Object(v.jsx)(J.b,{path:"/home",component:function(){return Object(v.jsx)(oe,{discountFoods:e.props.foods.foods.filter((function(e){return e.discount})),reviews:e.props.reviews.reviews,isLoading:e.props.reviews.isLoading,errMsg:e.props.reviews.errMsg,isLoggedIn:e.props.user.isLoggedIn,user:e.props.user.user,userReview:e.props.userReview,resetReviewForm:e.props.resetReviewForm,addReview:e.props.addReview,updateReview:e.props.updateReview,addToCart:e.props.addToCart})}}),Object(v.jsx)(J.b,{exact:!0,path:"/menu",component:function(){return Object(v.jsx)(be,{cuisines:e.props.cuisines.cuisines,errMsgCuisines:e.props.cuisines.errMsg,types:e.props.types.types,errMsgTypes:e.props.types.errMsg,foods:e.props.foods.foods,errMsgFoods:e.props.foods.errMsg,addToCart:e.props.addToCart,isLoggedIn:e.props.user.isLoggedIn})}}),Object(v.jsx)(J.b,{path:"/menu/breakfast",component:function(){return Object(v.jsx)(Fe,{foods:e.props.breakfast.foods,errMsg:e.props.breakfast.errMsg,addToCart:e.props.addToCart,isLoggedIn:e.props.user.isLoggedIn})}}),Object(v.jsx)(J.b,{path:"/menu/dinner",component:function(){return Object(v.jsx)(Re,{foods:e.props.dinner.foods,errMsg:e.props.dinner.errMsg,addToCart:e.props.addToCart,isLoggedIn:e.props.user.isLoggedIn})}}),Object(v.jsx)(J.b,{path:"/menu/supper",component:function(){return Object(v.jsx)(De,{foods:e.props.supper.foods,errMsg:e.props.supper.errMsg,addToCart:e.props.addToCart,isLoggedIn:e.props.user.isLoggedIn})}}),Object(v.jsx)(J.b,{path:"/drinks",component:function(){return Object(v.jsx)(Le,{drinks:e.props.drinks.drinks,errMsg:e.props.drinks.errMsg,addToCart:e.props.addToCart,isLoggedIn:e.props.user.isLoggedIn})}}),Object(v.jsx)(J.b,{path:"/dashboard",component:function(){return Object(v.jsx)(Ee,{userOrderedTables:e.props.userOrderedTables,user:e.props.user,resetEditProfileForm:e.props.resetEditProfileForm,updateUserDetails:e.props.updateUserDetails,orderHistory:e.props.orderHistory,userStatus:e.props.userStatus})}}),Object(v.jsx)(J.b,{path:"/order",component:function(){return Object(v.jsx)($t,{cart:e.props.cart,user:e.props.user,removeCartItem:e.props.removeCartItem,postCart:e.props.postCart,userStatus:e.props.userStatus})}}),Object(v.jsx)(J.a,{to:"/home"})]}),Object(v.jsx)(q,{}),Object(v.jsx)(ie,{})]})}}]),s}(r.Component),Zt=Object(J.g)(Object(H.connect)((function(e){return{cuisines:e.cuisines,types:e.types,foods:e.foods,drinks:e.drinks,breakfast:e.breakfast,dinner:e.dinner,supper:e.supper,reviews:e.reviews,user:e.user,userReview:e.userReview,tables:e.tables,userOrderedTables:e.userOrderedTables,cart:e.cart,orderHistory:e.orderHistory,userStatus:e.userStatus}}),(function(e){return{fetchCuisines:function(){return e(yt())},fetchTypes:function(){return e(wt())},fetchFoods:function(){return e(_t())},fetchDrinks:function(){return e(St())},fetchDailyFoods:function(){return e((function(e){e(Ct()),e(It()),e(Tt())}))},fetchReviews:function(){return e(kt())},authenticate:function(t,s){return e(Mt(t,s))},logout:function(){return e((function(e){localStorage.removeItem("token"),sessionStorage.clear(),e(Bt()),e(Ft())}))},resetSignupForm:function(){return e(f.actions.reset("signup"))},resetReviewForm:function(){return e(f.actions.reset("review"))},resetContactForm:function(){return e(f.actions.reset("contact"))},resetOrderTableForm:function(){return e(f.actions.reset("orderTable"))},resetEditProfileForm:function(){return e(f.actions.reset("editProfile"))},registerNewUser:function(t){return e(function(e){return function(t){return U.a.post(D+"/api/accounts/users/",e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){return e.data})).then((function(e){t({type:"REGISTER_USER_SUCCESS",payload:e.username}),localStorage.setItem("token",e.token),t(Et(e.username)),t(Lt()),t(Rt())})).catch((function(e){return t({type:"REGISTER_USER_FAILURE",payload:e.message})}))}}(t))},fetchUserReview:function(){return e(Rt())},fetchUser:function(){return e(Lt())},addReview:function(t){return e(Dt(t))},updateReview:function(t){return e(At(t))},postContactForm:function(t){return e(function(e){return function(t){return U.a.post(D+"/api/pages/contact/",e).then((function(e){return e.data})).then((function(e){return alert(e.message)})).catch((function(e){return console.log(e.message)}))}}(t))},fetchTables:function(){return e(Ut())},addOrderedTable:function(t){return e(function(e){return{type:jt,payload:e}}(t))},updateUserDetails:function(t){return e(qt(t))},initCart:function(){return e(Bt())},addToCart:function(t){return e(function(e){for(var t=JSON.parse(sessionStorage.getItem("cart")),s=!1,r=0;r<t.items.length;r++)t.items[r].id===e.id&&(t.items[r].quantity=parseInt(t.items[r].quantity)+parseInt(e.quantity),s=!0);return s||t.items.push(e),e.discount?t.totalCost+=e.price*(1-e.discount/100)*e.quantity:t.totalCost+=e.price*e.quantity,t.numberOfItems=t.items.length,sessionStorage.setItem("cart",JSON.stringify(t)),{type:Ot,payload:t}}(t))},removeCartItem:function(t){return e(function(e){return function(t){var s=JSON.parse(sessionStorage.getItem("cart")),r=s.items.filter((function(t){return t.id===e}))[0],a=s.items.filter((function(t){return t.id!==e}));s.items=a,s.numberOfItems-=1,r.discount?s.totalCost-=parseInt(r.quantity)*r.price*(1-r.discount/100):s.totalCost-=parseInt(r.quantity)*r.price,sessionStorage.setItem("cart",JSON.stringify(s)),t(Bt())}}(t))},postCart:function(t){return e(Wt(t))},fetchUserOrderHistory:function(){return e(zt())},fetchUserStatus:function(){return e(Jt())},fetchUserTables:function(){return e(Pt())}}}))(Kt)),Qt=s(3),Xt=s(31),es=s(102),ts=s(103),ss=s.n(ts),rs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMsg:null,cuisines:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:null,cuisines:t.payload});case Ue:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:t.payload,cuisines:[]});default:return e}},as=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMsg:null,types:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:null,types:t.payload});case qe:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:t.payload,types:[]});default:return e}},ns=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMsg:null,foods:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:null,foods:t.payload});case We:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:t.payload,foods:[]});default:return e}},cs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMsg:null,drinks:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ze:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:null,drinks:t.payload});case Je:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:t.payload,drinks:[]});default:return e}},os=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMsg:null,foods:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case He:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:null,foods:t.payload});case Ve:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:t.payload,foods:[]});default:return e}},is=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMsg:null,foods:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ge:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:null,foods:t.payload});case Ye:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:t.payload,foods:[]});default:return e}},ls=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMsg:null,foods:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $e:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:null,foods:t.payload});case Ke:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:t.payload,foods:[]});default:return e}},ds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoading:!0,errMsg:null,reviews:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case it:var s=t.payload;return Object(Qt.a)(Object(Qt.a)({},e),{},{isLoading:!1,errMsg:null,reviews:e.reviews.concat(s)});case ot:return Object(Qt.a)(Object(Qt.a)({},e),{},{isLoading:null,errMsg:t.payload});case lt:for(var r=t.payload,a=e.reviews,n=0;n<a.length;n++)if(a[n].id===r.id){a[n]=r;break}return Object(Qt.a)(Object(Qt.a)({},e),{},{isLoading:!1,errMsg:null,reviews:a});case Ze:return Object(Qt.a)(Object(Qt.a)({},e),{},{isLoading:!1,errMsg:null,reviews:t.payload});case Xe:return Object(Qt.a)(Object(Qt.a)({},e),{},{isLoading:!0,errMsg:null,reviews:[]});case Qe:return Object(Qt.a)(Object(Qt.a)({},e),{},{isLoading:!1,errMsg:t.payload,reviews:[]});default:return e}},us=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoggedIn:!!localStorage.getItem("token"),errMsg:null,user:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:return Object(Qt.a)(Object(Qt.a)({},e),{},{isLoggedIn:!0,errMsg:null});case rt:return Object(Qt.a)(Object(Qt.a)({},e),{},{isLoggedIn:!1,errMsg:t.payload,user:null});case at:return Object(Qt.a)(Object(Qt.a)({},e),{},{isLoggedIn:!1,errMsg:null,user:null});case et:return Object(Qt.a)(Object(Qt.a)({},e),{},{user:t.payload});case tt:return Object(Qt.a)(Object(Qt.a)({},e),{},{user:null});case ht:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:null,user:t.payload});case bt:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:t.payload});default:return e}},ms=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{review:null,errMsg:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:return Object(Qt.a)(Object(Qt.a)({},e),{},{review:t.payload,errMsg:null});case ct:return Object(Qt.a)(Object(Qt.a)({},e),{},{review:null,errMsg:t.payload});default:return e}},ps={username:"",first_name:"",last_name:"",email:"",address:"",phone_number:"",password:"",conf_password:"",avatar:""},js={content:""},hs={subject:"",email:"",message:""},bs={tableId:"",numOfPeople:0,startTime:null,endTime:null},gs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMsg:null,tables:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:null,tables:t.payload});case ut:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:t.payload,tables:[]});default:return e}},Os=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMsg:null,tables:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case mt:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:null,tables:t.payload});case pt:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:t.payload,tables:[]});case jt:var s=t.payload;return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:null,tables:e.tables.concat(s)});default:return e}},xs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{totalCost:0,numberOfItems:0,items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case gt:case Ot:return Object(Qt.a)(Object(Qt.a)({},e),{},{totalCost:t.payload.totalCost,numberOfItems:t.payload.numberOfItems,items:t.payload.items});default:return e}},fs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errMsg:null,orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ft:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:null,orders:t.payload});case vt:return Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:t.payload,orders:[]});case xt:var s=t.payload;return s.id=e.orders.length,Object(Qt.a)(Object(Qt.a)({},e),{},{errMsg:null,orders:e.orders.concat(s)});default:return e}},vs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt:return t.payload;default:return e}},Ns=function(){var e;return Object(Xt.createStore)(Object(Xt.combineReducers)(Object(Qt.a)({cuisines:rs,types:as,foods:ns,drinks:cs,breakfast:os,dinner:is,supper:ls,reviews:ds,user:us,userReview:ms,tables:gs,userOrderedTables:Os,cart:xs,orderHistory:fs,userStatus:vs},Object(f.createForms)({signup:ps,review:js,contact:hs,orderTable:bs,editProfile:(e=us.user,e?{username:e.username,first_name:e.first_name,last_name:e.last_name,email:e.email,address:e.address,phone_number:e.phone_number,avatar:""}:{username:"",first_name:"",last_name:"",email:"",address:"",phone_number:"",avatar:""})}))),Object(Xt.applyMiddleware)(es.a,ss.a))}();var ys=function(){return Object(v.jsx)(H.Provider,{store:Ns,children:Object(v.jsx)(j.a,{children:Object(v.jsx)(Zt,{})})})},ws=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,191)).then((function(t){var s=t.getCLS,r=t.getFID,a=t.getFCP,n=t.getLCP,c=t.getTTFB;s(e),r(e),a(e),n(e),c(e)}))};c.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(ys,{})}),document.getElementById("root")),ws()}},[[185,1,2]]]);
//# sourceMappingURL=main.a555699e.chunk.js.map